<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Tame Multiple Obsidian Vaults With This Plugin Sync Hack -</title><meta name=Description content="This is my cool site"><meta property="og:title" content="Tame Multiple Obsidian Vaults With This Plugin Sync Hack"><meta property="og:description" content="If you&rsquo;re like me and you&rsquo;ve tried to maintain multiple Obsidian vaults, odds are you&rsquo;ve encountered the same headache of having to sync plugins and settings which usually takes you out of the flow. You also might be thinking to yourself, why haven&rsquo;t I done something about this yet, I mean, I love hacking in the terminal don&rsquo;t I?
I separate vaults based on a variety of reasons, but a common reason would be to separate your public and private notes."><meta property="og:type" content="article"><meta property="og:url" content="https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/"><meta property="og:image" content="https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-20T10:57:56-04:00"><meta property="article:modified_time" content="2024-04-20T10:57:56-04:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg"><meta name=twitter:title content="Tame Multiple Obsidian Vaults With This Plugin Sync Hack"><meta name=twitter:description content="If you&rsquo;re like me and you&rsquo;ve tried to maintain multiple Obsidian vaults, odds are you&rsquo;ve encountered the same headache of having to sync plugins and settings which usually takes you out of the flow. You also might be thinking to yourself, why haven&rsquo;t I done something about this yet, I mean, I love hacking in the terminal don&rsquo;t I?
I separate vaults based on a variety of reasons, but a common reason would be to separate your public and private notes."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/><link rel=prev href=https://javrin.github.io/posts/2024-04-18-ue5-game-dev-log/><link rel=next href=https://javrin.github.io/posts/2024-05-07-ue5-game-dev-log/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Tame Multiple Obsidian Vaults With This Plugin Sync Hack","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/javrin.github.io\/posts\/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack\/"},"image":[{"@type":"ImageObject","url":"https:\/\/javrin.github.io\/posts\/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack\/featured-image.jpg","width":800,"height":505}],"genre":"posts","keywords":"obsidian, bash, snippet","wordcount":823,"url":"https:\/\/javrin.github.io\/posts\/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack\/","datePublished":"2024-04-20T10:57:56-04:00","dateModified":"2024-04-20T10:57:56-04:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jonas Avrin"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title>javrin</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/projects/>Projects </a><a class=menu-item href=/about/>About </a><a class=menu-item href=https://github.com/Jawabiscuit/javrin.github.io title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title>javrin</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/projects/ title>Projects</a><a class=menu-item href=/about/ title>About</a><a class=menu-item href=https://github.com/Jawabiscuit/javrin.github.io title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Tame Multiple Obsidian Vaults With This Plugin Sync Hack</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://javrin.github.io title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Jonas Avrin</a></span>&nbsp;<span class=post-category>included in <a href=/categories/productivity/><i class="far fa-folder fa-fw" aria-hidden=true></i>Productivity</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2024-04-20>2024-04-20</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;823 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg data-srcset="/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg, /posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg 1.5x, /posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg 2x" data-sizes=auto alt=/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg title=/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/featured-image.jpg></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents></nav></div></div><div class=content id=content><p> </p><p>If you&rsquo;re like me and you&rsquo;ve tried to maintain multiple Obsidian vaults, odds are you&rsquo;ve encountered the same headache of having to sync plugins and settings which usually takes you out of the flow. You also might be thinking to yourself, why haven&rsquo;t I done something about this yet, I mean, I love hacking in the terminal don&rsquo;t I?</p><p> </p><p>I separate vaults based on a variety of reasons, but a common reason would be to separate your public and private notes. This is beneficial for organization, but creates more busy work if you like keeping your plugins and settings in sync. Now that my vault count has now grown beyond 3, I finally broke down and scripted the synchronization process for multiple vaults. Whether you juggle personal and work vaults or maintain multiple knowledge bases, these snippets are must-have productivity hacks.</p><p> </p><blockquote><p>Spice Rating: 🌶🌶🌶 -</p><p>This guide covers using bash scripts to synchronize Obsidian plugin settings across multiple vaults. Familiarity with Obsidian&rsquo;s plugin folder structure and prior experience using bash terminals is assumed. Running code from the internet can be destructive so always test and make backups of your files before hand!</p></blockquote><p>Also note I&rsquo;m writing this on a Windows machine but should work for any platform since you can run bash on all of them. Why don&rsquo;t I use git? I do, but I don&rsquo;t like tracking plugin settings which could have sensitive information like API keys 😱!</p><p> </p><h1 id=sync-obsidian-plugin-settings-single-vault>Sync Obsidian Plugin Settings (single vault)</h1><p>If you haven&rsquo;t been scared away, I will briefly break down how the first simple one-liner works. There are 2 versions of each snippet, dry run and execute, for both single and multi-vault variants. You&rsquo;ll want to use the single vault variant if the number of vaults you have is currently manageable or feel more comfortable running just one line of code.</p><p> </p><p>The &ldquo;Dry Run&rdquo; command uses the <code>find</code> utility to locate all <code>data.json</code> files within the <code>.obsidian/plugins/</code> directory of your current vault. <strong>Note that you&rsquo;ll need to <code>cd</code> to your current vault first</strong>. This is where Obsidian stores plugin settings and data. The <code>-print</code> option just prints the full paths of the matched files to the console, allowing you to preview what would be copied without actually copying anything yet.</p><p> </p><p>The &ldquo;Execute&rdquo; command is similar, but instead of just printing the paths, it uses the <code>-exec</code> option to run the <code>cp</code> command on each matched file. This copies the <code>data.json</code> file to the <code>/p/obsidian/personal-notes/</code> directory while preserving the same nested folder structure under <code>.obsidian/plugins/</code>. So in effect, running this second command line will sync all your current vault&rsquo;s plugin settings over to a second vault located at <code>/p/obsidian/personal-notes/</code>.</p><p> </p><blockquote><p>Dry Run (print only)</p><p><code>find .obsidian/plugins/ -type f -name data.json -print</code></p><p>Execute (copy)</p><p><code>find .obsidian/plugins/ -type f -name data.json -exec cp {} /p/obsidian/personal-notes/{} \;</code></p></blockquote><p> </p><h1 id=sync-obsidian-plugin-settings-multiple-vaults>Sync Obsidian Plugin Settings (multiple vaults)</h1><p>This variant extends previous single vault script to handle multiple destinations.</p><p> </p><p>Similar to the single vault variant, the &ldquo;Dry Run&rdquo; version of the script just prints out the <code>cp</code> operations it would perform without actually copying anything. This lets you validate the output before executing the real copy.</p><p> </p><blockquote><p>Dry run (print only)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find .obsidian/plugins/ -type f -name data.json -exec sh -c <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>src=&#34;$1&#34;
</span></span></span><span class=line><span class=cl><span class=s1>dir=$(dirname &#34;$src&#34;)
</span></span></span><span class=line><span class=cl><span class=s1>for dest in /p/obsidian/business-vault /p/obsidian/personal-notes /p/obsidian/mysite.github.io /p/obsidian/obsidian-notes; do
</span></span></span><span class=line><span class=cl><span class=s1>echo cp -uv &#34;$src&#34; &#34;$dest/$dir&#34;
</span></span></span><span class=line><span class=cl><span class=s1>done&#39;</span> _ <span class=o>{}</span> <span class=se>\;</span>
</span></span></code></pre></div><p>Execute (copy)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find .obsidian/plugins/ -type f -name data.json -exec sh -c <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>src=&#34;$1&#34;
</span></span></span><span class=line><span class=cl><span class=s1>dir=$(dirname &#34;$src&#34;)
</span></span></span><span class=line><span class=cl><span class=s1>for dest in /p/obsidian/business-vault /p/obsidian/personal-notes /p/obsidian/javrin.github.io /p/obsidian/obsidian-notes; do
</span></span></span><span class=line><span class=cl><span class=s1>cp -uv &#34;$src&#34; &#34;$dest/$dir&#34;
</span></span></span><span class=line><span class=cl><span class=s1>done&#39;</span> _ <span class=o>{}</span> <span class=se>\;</span>
</span></span></code></pre></div></blockquote><p> </p><p>Here&rsquo;s a breakdown of what&rsquo;s happening:</p><ol><li><code>find</code> is used again to locate all <code>data.json</code> files in the current vault&rsquo;s <code>.obsidian/plugins/</code> folder.</li><li>For each match, it runs the code in the <code>-exec sh -c</code> block, passing the full path as <code>$1</code>.</li><li>It stores the source file path in <code>$src</code> and gets just the directory path in <code>$dir</code>.</li><li>Then it loops over the list of destination vault paths defined in the <code>for dest in …</code> line.</li><li>For each destination, it runs <code>cp -uv "$src" "$dest/$dir"</code> to copy the source file to the same nested folder structure within that vault.</li><li>The <code>-u</code> option updates only when the source is newer than the destination.</li><li>The <code>-v</code> option makes it print the file paths as it copies.</li></ol><p> </p><p>So with this one command, you can sync your plugin settings to as many vaults as needed by just adding/removing paths in the <code>for dest in …</code> line. Odds are, your paths are different so you&rsquo;ll need to remove them from the example before running, but you knew that already 😉.</p><p> </p><p>With that, you now have a powerful way to streamline managing plugins across all your Obsidian vaults. Let me know if it makes your life a little less tedious! If it&rsquo;s your first foray into the world of using terminal for productivity hacks in general or for Obsidian I&rsquo;d definitely like to hear how your experience went with implementing what was discussed here.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2024-04-20</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/ data-title="Tame Multiple Obsidian Vaults With This Plugin Sync Hack" data-hashtags=obsidian,bash,snippet><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/ data-hashtag=obsidian><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/ data-title="Tame Multiple Obsidian Vaults With This Plugin Sync Hack"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/ data-title="Tame Multiple Obsidian Vaults With This Plugin Sync Hack"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://javrin.github.io/posts/2024-04-20-tame-multiple-obsidian-vaults-with-this-plugin-sync-hack/ data-title="Tame Multiple Obsidian Vaults With This Plugin Sync Hack"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/obsidian/>obsidian</a>,&nbsp;<a href=/tags/bash/>bash</a>,&nbsp;<a href=/tags/snippet/>snippet</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2024-04-18-ue5-game-dev-log/ class=prev rel=prev title="UE5 Game Dev Log"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>UE5 Game Dev Log</a>
<a href=/posts/2024-05-07-ue5-game-dev-log/ class=next rel=next title="UE5 Game Dev Log">UE5 Game Dev Log<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.118.2">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://javrin.github.io target=_blank>Jonas Avrin</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>